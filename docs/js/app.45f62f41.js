(function(e){function t(t){for(var a,i,c=t[0],o=t[1],u=t[2],s=0,f=[];s<c.length;s++)i=c[s],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&f.push(l[i][0]),l[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var o=n[c];0!==l[o]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},l={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=o;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"83cd":function(e,t,n){},cca3:function(e,t,n){"use strict";n("83cd")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function l(e,t,n,l,r,i){var c=Object(a["j"])("Header"),o=Object(a["j"])("Connect");return Object(a["i"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(c),Object(a["g"])(o)],64)}function r(e,t,n,l,r,i){return Object(a["i"])(),Object(a["d"])("h1",null,"Serial Data Terminal")}var i={return:{data:{anything:null}}},c=n("6b0d"),o=n.n(c);const u=o()(i,[["render",r]]);var d=u,s={class:"background"},f={key:1},v={class:"values-container"},b={class:"value-container"},h=Object(a["f"])(" Reference Voltage: "),p={class:"live-value"},O={class:"value-container"},g=Object(a["f"])(" Total Voltage: "),j={class:"live-value"},C={class:"value-container"},k=Object(a["f"])(" Lower Voltage: "),m={class:"live-value"},w={class:"value-container"},y=Object(a["f"])(" Current: "),x={class:"live-value"},B={class:"value-container"},I=Object(a["f"])(" Motor RPM: "),A={class:"live-value"},S={class:"value-container"},R=Object(a["f"])(" Speed: "),P={class:"live-value"},V={class:"value-container"},L=Object(a["f"])(" Throttle Input: "),D={class:"live-value"},F={class:"value-container"},T=Object(a["f"])(" Throttle Output: "),W={class:"live-value"},M={class:"value-container"},q=Object(a["f"])(" Thermistor 1: "),H={class:"live-value"},U={class:"value-container"},_=Object(a["f"])(" Thermistor 2: "),N={class:"live-value"},J={class:"value-container"},E=Object(a["f"])(" Temperature PCB: "),G={class:"live-value"},z={class:"value-container"},K=Object(a["f"])(" Launch Mode Button: "),Q={class:"live-value"},X={class:"value-container"},Y=Object(a["f"])(" Cycle View Button: "),Z={class:"live-value"},$={class:"value-container"},ee=Object(a["f"])(" Gear Ratio: "),te={class:"live-value"},ne={class:"value-container"},ae=Object(a["f"])(" Brake Switch: "),le={class:"live-value"};function re(e,t,n,l,r,i){return Object(a["i"])(),Object(a["d"])("div",s,[Object(a["e"])("p",null,[Object(a["e"])("button",{onClick:t[0]||(t[0]=function(){return i.connect&&i.connect.apply(i,arguments)})},"Request Serial Port")]),r.connected?(Object(a["i"])(),Object(a["d"])("button",{key:0,onClick:t[1]||(t[1]=function(){return i.serialRequestHWVersion&&i.serialRequestHWVersion.apply(i,arguments)})}," Fetch Current Calibration ")):Object(a["c"])("",!0),Object(a["e"])("h2",null,Object(a["k"])(r.connected?r.waitingForData?"Waiting for Data...":"Connected":"Disconnected"),1),r.connected?(Object(a["i"])(),Object(a["d"])("div",f,[Object(a["e"])("div",v,[Object(a["e"])("div",b,[h,Object(a["e"])("div",p,Object(a["k"])(r.eChook.referenceVoltage.value),1)]),Object(a["e"])("div",O,[g,Object(a["e"])("div",j,Object(a["k"])(r.eChook.voltage.value),1)]),Object(a["e"])("div",C,[k,Object(a["e"])("div",m,Object(a["k"])(r.eChook.voltageLower.value),1)]),Object(a["e"])("div",w,[y,Object(a["e"])("div",x,Object(a["k"])(r.eChook.current.value),1)]),Object(a["e"])("div",B,[I,Object(a["e"])("div",A,Object(a["k"])(r.eChook.rpm.value),1)]),Object(a["e"])("div",S,[R,Object(a["e"])("div",P,Object(a["k"])(r.eChook.speed.value),1)]),Object(a["e"])("div",V,[L,Object(a["e"])("div",D,Object(a["k"])(r.eChook.throttleInput.value),1)]),Object(a["e"])("div",F,[T,Object(a["e"])("div",W,Object(a["k"])(r.eChook.throttleActual.value),1)]),Object(a["e"])("div",M,[q,Object(a["e"])("div",H,Object(a["k"])(r.eChook.temp1.value),1)]),Object(a["e"])("div",U,[_,Object(a["e"])("div",N,Object(a["k"])(r.eChook.temp2.value),1)]),Object(a["e"])("div",J,[E,Object(a["e"])("div",G,Object(a["k"])(r.eChook.temp3.value),1)]),Object(a["e"])("div",z,[K,Object(a["e"])("div",Q,Object(a["k"])(r.eChook.launchMode.value),1)]),Object(a["e"])("div",X,[Y,Object(a["e"])("div",Z,Object(a["k"])(r.eChook.cycleView.value),1)]),Object(a["e"])("div",$,[ee,Object(a["e"])("div",te,Object(a["k"])(r.eChook.gearRatio.value),1)]),Object(a["e"])("div",ne,[ae,Object(a["e"])("div",le,Object(a["k"])(r.eChook.brakePressed.value),1)])])])):Object(a["c"])("",!0)])}var ie=n("1da1"),ce=(n("96cf"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("fb6a"),n("a9e3"),n("b680"),n("3022"),{data:function(){return{dataIn:"Starting String",hasSerial:0,connected:!1,waitingForData:!0,connectFailed:!1,connectColor:"primary",connectText:"connect",writeFailed:!1,port:null,inputField:null,inputStream:null,inputDone:null,outputStream:null,outputDone:null,reader:null,writer:null,running:!0,inputBuffer:null,serialCalibrationi:{dataPacketLength:5,binaryCalArrayLength:7,binaryCalIdentifier:"b",floatCalArrayLength:60,floatCalIdentifier:"f",btNameArrayLength:13,btNameIdentifier:"n"},eChook:{other:{identifier:null,transmitInterval:null,useHardcoded:null,product:null,swVersion:null},speed:{value:null,identifier:"s",calibration:{magnets:{value:null,floatIndex:1,changed:0,old:null},circumference:{value:null,floatIndex:15,changed:0,old:null}}},rpm:{value:null,identifier:"m",calibration:{magnets:{value:null,floatIndex:2,changed:0,old:null}}},current:{value:null,identifier:"i",calibration:{changed:0,old:null,floatIndex:6}},voltage:{value:null,identifier:"v",calibration:{changed:0,old:null,floatIndex:4}},voltageLower:{value:null,identifier:"w",calibration:{changed:0,old:null,floatIndex:5}},throttleInput:{value:null,identifier:"t",calibration:{lowThreshold:{changed:0,old:null,floatIndex:13},highThreshold:{changed:0,old:null,floatIndex:14}}},throttleActual:{value:null,identifier:"d",calibration:{changed:0,old:null,floatIndex:null}},temp1:{value:null,identifier:"a",calibration:{A:{changed:0,old:null,floatIndex:7},B:{changed:0,old:null,floatIndex:8},C:{changed:0,old:null,floatIndex:9}}},temp2:{value:null,identifier:"b",calibration:{A:{changed:0,old:null,floatIndex:10},B:{changed:0,old:null,floatIndex:11},C:{changed:0,old:null,floatIndex:12}}},temp3:{value:null,identifier:"c",calibration:{changed:0,old:null,floatIndex:null}},launchMode:{value:null,identifier:"L",calibration:{changed:0,old:null,floatIndex:null}},cycleView:{value:null,identifier:"C",calibration:{changed:0,old:null,floatIndex:null}},gearRatio:{value:null,identifier:"r",calibration:{changed:0,old:null,floatIndex:null}},brakePressed:{value:null,identifier:"B",calibration:{changed:0,old:null,floatIndex:null}},referenceVoltage:{value:null,identifier:"V",calibration:{changed:0,old:null,floatIndex:null}}}}},created:function(){"serial"in navigator&&(this.hasSerial=!0)},methods:{connect:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.connected=!1,t.next=3,navigator.serial.requestPort();case 3:return e.port=t.sent,t.prev=4,t.next=7,e.port.open({baudRate:115200});case 7:t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](4),console.log("*** open port error ***"),console.log(t.t0),e.connectFailed=!0;case 14:e.connectFailed||(e.inputBuffer=new Uint8Array(0),e.connected=!0,console.log("Open"),e.reader=e.port.readable.getReader(),e.closed=e.readLoop());case 15:case"end":return t.stop()}}),t,null,[[4,9]])})))()},readLoop:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){var n,a,l,r,i,c,o,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("Entering ReadLoop");case 1:if(!e.running){t.next=12;break}return t.next=4,e.reader.read();case 4:n=t.sent,a=n.value,n.done,e.inputBuffer=e.concatenate(e.inputBuffer,a),l=1;while(l){if(l=0,e.inputBuffer.length>4)for(r=e.inputBuffer.length-1;r>=0;r--)"}"===String.fromCharCode(e.inputBuffer[r])&&"{"===String.fromCharCode(e.inputBuffer[r-4])&&(i=e.inputBuffer[r-3],c=e.inputBuffer[r-2],o=e.inputBuffer[r-1],e.eChookDataDecode(i,c,o),l=1,e.inputBuffer=e.concatenate(e.inputBuffer.slice(0,r-4),e.inputBuffer.slice(r+1,e.inputBuffer.length)),r=-1);if(0===l&&(u=0,e.inputBuffer.length>4)){for(d=e.inputBuffer.length-4;d>=0;d--)"["===String.fromCharCode(e.inputBuffer[d])&&(u=1);u||(e.inputBuffer=e.inputBuffer.slice(e.inputBuffer.length-5,e.inputBuffer.length))}}t.next=1;break;case 12:case"end":return t.stop()}}),t)})))()},concatenate:function(){for(var e=0,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var l=0,r=n;l<r.length;l++){var i=r[l];e+=i.length}for(var c=new Uint8Array(e),o=0,u=0,d=n;u<d.length;u++){var s=d[u];c.set(s,o),o+=s.length}return c},eChookDataDecode:function(e,t,n){this.waitingForData=0;var a=0;if(e=String.fromCharCode(e),255===t&&255===n)a=0;else if(t>128){var l=0;l=255===t?0:100*(t-128);var r=0;r=255===n?0:n,a=l+r}else{var i=0;i=255===t?0:t;var c=0;c=255===n?0:n/100,a=Number(i+c)}for(var o in this.eChook)this.eChook[o].identifier===e&&(this.eChook[o].value=a.toFixed(2))},serialWrite:function(e){try{this.writer=this.port.writable.getWriter()}catch(t){console.log("Failed to open Write Stream")}this.writer.write(e),this.writer.releaseLock()},serialRequestHWVersion:function(){var e=new Uint8Array(2),t="gh";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},serialRequestSWVersion:function(){var e=new Uint8Array(2),t="gs";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},serialRequestBinaryCal:function(){var e=new Uint8Array(2),t="gb";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},serialRequestFloatCal:function(){var e=new Uint8Array(2),t="gf";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)}}});n("dd6b");const oe=o()(ce,[["render",re]]);var ue=oe,de=Object(a["h"])({name:"App",components:{Header:d,Connect:ue}});n("cca3");const se=o()(de,[["render",l]]);var fe=se;Object(a["b"])(fe).mount("#app")},dd6b:function(e,t,n){"use strict";n("ed72")},ed72:function(e,t,n){}});
//# sourceMappingURL=app.45f62f41.js.map