(function(e){function t(t){for(var a,r,o=t[0],c=t[1],u=t[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&h.push(l[r][0]),l[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);s&&s(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==l[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},l={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/gpt-nano-configurator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"368c":function(e,t,n){},"52af":function(e,t,n){"use strict";n("9c58")},"7b49":function(e,t,n){},9153:function(e,t,n){"use strict";n("368c")},"9c58":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function l(e,t,n,l,i,r){var o=Object(a["n"])("Header"),c=Object(a["n"])("Connect");return Object(a["j"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),Object(a["g"])(c)],64)}var i=function(e){return Object(a["l"])("data-v-6126bd54"),e=e(),Object(a["k"])(),e},r={class:"header-container"},o=i((function(){return Object(a["e"])("div",{class:"logo"},"eChook",-1)})),c=i((function(){return Object(a["e"])("div",{class:"site-header"},"Greenpower Telemetry Calibration",-1)})),u=[o,c];function s(e,t,n,l,i,o){return Object(a["j"])(),Object(a["d"])("div",r,u)}var d={return:{data:{anything:null}}},h=(n("9153"),n("6b0d")),b=n.n(h);const f=b()(d,[["render",s],["__scopeId","data-v-6126bd54"]]);var v=f,p=(n("b0c0"),{class:"background"}),g={key:0,class:"disconnected overlay"},C=Object(a["e"])("div",{class:"info-large"},[Object(a["e"])("strong",null,[Object(a["f"])(" Plug in your eChook GPT "),Object(a["e"])("p",null,"or"),Object(a["f"])(" Connect via Bluetooth "),Object(a["e"])("p",null,"then")])],-1),O={key:1,class:"lds-grid"},m=Object(a["e"])("div",null,null,-1),j=Object(a["e"])("div",null,null,-1),y=Object(a["e"])("div",null,null,-1),k=Object(a["e"])("div",null,null,-1),w=Object(a["e"])("div",null,null,-1),B=Object(a["e"])("div",null,null,-1),A=Object(a["e"])("div",null,null,-1),S=Object(a["e"])("div",null,null,-1),x=Object(a["e"])("div",null,null,-1),I=[m,j,y,k,w,B,A,S,x],N={key:2,class:"ca"},R={class:"values-container two-col"},T={class:"value-container ca"},D=Object(a["e"])("div",{class:"value-title"},"Device Information",-1),L=Object(a["e"])("div",{class:"title"},"Name",-1),F={class:"value-container binary ca"},P=Object(a["e"])("div",{class:"value-title"},"Setting Toggles",-1),V={class:"title"},U=["onClick"],q=["onClick"],M={class:"value-title"},W={key:0,class:"live-value"},_={class:"title"},E=["onUpdate:modelValue"],H={key:1},J=Object(a["e"])("div",{class:"title no-cal"},"Not Calibratable",-1),G=[J],Y=Object(a["e"])("div",{style:{height:"100px"}},null,-1),z={class:"bottom-menu"},K={class:"button",onclick:"document.getElementById('fileButton').click();"},Q=Object(a["f"])(" Restore Backup "),X={key:0,class:"tools-background"},Z=Object(a["e"])("div",{class:"tools-container"},[Object(a["e"])("div",{class:"title"},"Calibration Tools")],-1),$=[Z];function ee(e,t,n,l,i,r){return Object(a["j"])(),Object(a["d"])(a["a"],null,[Object(a["e"])("div",p,[i.connected?Object(a["c"])("",!0):(Object(a["j"])(),Object(a["d"])("div",g,[C,Object(a["e"])("p",null,[Object(a["e"])("button",{class:"connect-button",onClick:t[0]||(t[0]=function(){return r.connect&&r.connect.apply(r,arguments)})},"Connect")])])),i.connected&&i.waitingForData?(Object(a["j"])(),Object(a["d"])("div",O,I)):Object(a["c"])("",!0),i.connected&&!i.waitingForData?(Object(a["j"])(),Object(a["d"])("div",N,[Object(a["e"])("div",R,[Object(a["e"])("div",T,[D,Object(a["e"])("div",{class:Object(a["i"])(["live-calibration",{changed:i.eChook.bluetoothName.changed}])},[L,Object(a["q"])(Object(a["e"])("input",{class:"cal-input",type:"text",onInput:t[1]||(t[1]=function(){return r.checkChange&&r.checkChange.apply(r,arguments)}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.eChook.bluetoothName.value=e})},null,544),[[a["p"],i.eChook.bluetoothName.value]])],2)]),Object(a["e"])("div",F,[P,(Object(a["j"])(!0),Object(a["d"])(a["a"],null,Object(a["m"])(i.eChook.binary,(function(e){return Object(a["j"])(),Object(a["d"])(a["a"],{key:e},[e.hidden?Object(a["c"])("",!0):(Object(a["j"])(),Object(a["d"])("div",{key:0,class:Object(a["i"])(["binary-cal-container",{changed:e.changed}])},[Object(a["e"])("div",V,Object(a["o"])(e.name),1),Object(a["e"])("div",{class:Object(a["i"])(["binary-option",{active:e.value}]),onClick:function(t){e.value=1,r.checkChange()}},Object(a["o"])(e.op1),11,U),Object(a["e"])("div",{class:Object(a["i"])(["binary-option",{active:!e.value}]),onClick:function(t){e.value=0,r.checkChange()}},Object(a["o"])(e.op2),11,q)],2))],64)})),128))]),(Object(a["j"])(!0),Object(a["d"])(a["a"],null,Object(a["m"])(i.eChook,(function(e){return Object(a["j"])(),Object(a["d"])(a["a"],{key:e},[e.title&&!e.hidden?(Object(a["j"])(),Object(a["d"])("div",{key:0,class:Object(a["i"])(["value-container c1",{c2:!e.calibratable}])},[Object(a["e"])("div",M,Object(a["o"])(e.title),1),null!=e.value?(Object(a["j"])(),Object(a["d"])("div",W,Object(a["o"])(e.value)+" "+Object(a["o"])(e.units),1)):Object(a["c"])("",!0),(Object(a["j"])(!0),Object(a["d"])(a["a"],null,Object(a["m"])(e.calibration,(function(e){return Object(a["j"])(),Object(a["d"])(a["a"],{key:e},[null!=e.value?(Object(a["j"])(),Object(a["d"])("div",{key:0,class:Object(a["i"])(["live-calibration",{changed:e.changed}])},[Object(a["e"])("div",_,Object(a["o"])(e.name)+":",1),Object(a["q"])(Object(a["e"])("input",{class:"cal-input",onInput:t[3]||(t[3]=function(){return r.checkChange&&r.checkChange.apply(r,arguments)}),type:"number","onUpdate:modelValue":function(t){return e.value=t}},null,40,E),[[a["p"],e.value]]),Object(a["e"])("div",null,Object(a["o"])(e.unit),1)],2)):(Object(a["j"])(),Object(a["d"])("div",H,G))],64)})),128))],2)):Object(a["c"])("",!0)],64)})),128))]),Y,Object(a["e"])("div",z,[Object(a["e"])("div",{onClick:t[4]||(t[4]=function(){return r.disconnectPort&&r.disconnectPort.apply(r,arguments)}),class:"button disconnect"},"Disconnect"),Object(a["e"])("div",{class:"button",onClick:t[5]||(t[5]=function(){return r.backupDownload&&r.backupDownload.apply(r,arguments)})},"Backup Config"),Object(a["e"])("div",K,[Object(a["e"])("input",{id:"fileButton",style:{display:"none"},type:"file",ref:"jsonFile",onChange:t[6]||(t[6]=function(){return r.backupRestore&&r.backupRestore.apply(r,arguments)})},null,544),Q]),Object(a["e"])("div",{class:"button send-data",onClick:t[7]||(t[7]=function(){return r.serialSendAllCal&&r.serialSendAllCal.apply(r,arguments)})},Object(a["o"])(r.sendCalText),1)])])):Object(a["c"])("",!0)]),i.tools?(Object(a["j"])(),Object(a["d"])("div",X,$)):Object(a["c"])("",!0)],64)}var te=n("3835"),ne=n("1da1"),ae=(n("96cf"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("fb6a"),n("a9e3"),n("b680"),n("99af"),n("cb29"),n("cfc3"),n("e9c4"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("0541"),{eChook:{binary:{variableThrottle:{name:"Throttle Type",op1:"Variable",op2:"On/Off",value:null,old:null,hidden:0,changed:0},throttleOut:{name:"Throttle Output (PWM)",op1:"On",op2:"Off",value:null,old:null,hidden:0,changed:0},throttleRamp:{name:"Throttle Ramp",op1:"On",op2:"Off",value:null,old:null,hidden:0,changed:0},linearTempSensor:{name:"Temp Sensor Type",op1:"Linear",op2:"Thermistor",value:null,old:null,hidden:0,changed:0}},bluetoothName:{calibratable:1,value:null,old:null,hidden:1,changed:0},transmitInterval:{title:"Data Transmit Interval",precision:0,units:"ms",identifier:null,hidden:1,calibratable:1,calibration:{interval:{name:"Interval",units:"ms",value:null,floatIndex:0,changed:0,old:null}}},referenceVoltage:{title:"Reference Voltage",precision:2,units:"V",value:null,identifier:"V",calibratable:1,calibration:{voltage:{name:"Voltage",units:"Volts",value:null,changed:0,old:null,floatIndex:null}}},speed:{title:"Speed",precision:2,units:"m/s",value:null,identifier:"s",calibratable:1,calibration:{magnets:{name:"Magnets",precision:0,value:null,floatIndex:1,changed:0,old:null},circumference:{name:"Circumference",unit:"meters",precision:2,value:null,floatIndex:15,changed:0,old:null}}},rpm:{title:"Motor RPM",precision:0,units:"RPM",value:null,identifier:"m",calibratable:1,calibration:{magnets:{name:"Magnets",value:null,floatIndex:2,changed:0,old:null}}},current:{title:"Current",precision:2,units:"A",value:null,identifier:"i",calibratable:1,calibration:{multiplier:{name:"Scaling Factor",precision:2,value:null,changed:0,old:null,floatIndex:6}}},voltage:{title:"Voltage (total)",precision:2,units:"V",value:null,identifier:"v",calibratable:1,calibration:{multiplier:{name:"Scaling Factor",precision:2,value:null,changed:0,old:null,floatIndex:4}}},voltageLower:{title:"Volatge (lower)",precision:2,units:"V",value:null,identifier:"w",calibratable:1,calibration:{multiplier:{name:"Scaling Factor",precision:2,value:null,changed:0,old:null,floatIndex:5}}},throttleInput:{title:"Throttle Input",precision:2,units:"V",value:null,identifier:"t",calibratable:1,calibration:{lowThreshold:{name:"Low Threshold",unit:"Volts",value:null,precision:2,changed:0,old:null,floatIndex:13},highThreshold:{name:"High Threshold",unit:"Volts",value:null,precision:2,changed:0,old:null,floatIndex:14}}},throttleActual:{title:"Throttle Output",precision:1,units:"%",value:null,identifier:"d",calibratable:0,calibration:{multiplier:{value:null,precision:1,changed:0,old:null,floatIndex:null}}},temp3:{title:"Temperature eChook",precision:0,units:"°c",value:null,identifier:"c",calibratable:0,calibration:{placeholder:{value:null,changed:0,old:null,floatIndex:null}}},temp1:{title:"Temperature 1",precision:0,units:"°c",value:null,identifier:"a",calibratable:1,calibration:{A:{name:"Cal A",precision:7,value:null,changed:0,old:null,floatIndex:7},B:{name:"Cal B",precision:7,value:null,changed:0,old:null,floatIndex:8},C:{name:"Cal C",precision:7,value:null,changed:0,old:null,floatIndex:9}}},temp2:{title:"Temperature 2",precision:0,units:"°c",value:null,identifier:"b",calibratable:1,calibration:{A:{name:"Cal A",precision:7,value:null,changed:0,old:null,floatIndex:10},B:{name:"Cal B",precision:7,value:null,changed:0,old:null,floatIndex:11},C:{name:"Cal C",precision:7,value:null,changed:0,old:null,floatIndex:12}}},launchMode:{title:"Launch Mode Button",precision:0,units:null,value:0,identifier:"L",calibratable:0,calibration:{placeholder:{value:null,changed:0,old:null,floatIndex:null}}},cycleView:{title:"Next Screen Button",precision:0,units:null,value:0,identifier:"C",calibratable:0,calibration:{placeholder:{value:null,changed:0,old:null,floatIndex:null}}},gearRatio:{title:"Gear Ratio",precision:2,units:null,value:null,identifier:"r",calibratable:0,calibration:{placeholder:{value:null,changed:0,old:null,floatIndex:null}}},brakePressed:{title:"Brake Switch",precision:0,units:null,value:0,identifier:"B",calibratable:0,calibration:{inverted:{name:"Inverted",value:null,changed:0,old:null,floatIndex:null}}}}}),le={data:function(){return{tools:1,dataIn:"Starting String",hasSerial:0,connected:!1,waitingForData:!0,connectFailed:!1,connectColor:"primary",connectText:"connect",writeFailed:!1,port:null,inputField:null,inputStream:null,inputDone:null,outputStream:null,outputDone:null,reader:null,writer:null,running:!0,inputBuffer:null,changeCount:0,serialCalibration:{dataPacketLength:5,binaryCalArrayLength:10,binaryCalIdentifier:"b",floatCalArrayLength:83,floatCalIdentifier:"f",btNameArrayLength:33,btNameIdentifier:"n"},eChook:{}}},created:function(){"serial"in navigator&&(this.hasSerial=!0)},mounted:function(){this.eChook=ae.eChook},computed:{sendCalText:function(){var e="";return e=this.changeCount?1===this.changeCount?"Send 1 Change to eChook":"Send ".concat(this.changeCount," Changes to eChook"):"No Changes",e}},methods:{checkChange:function(){for(var e in this.changeCount=0,this.eChook.binary){var t=this.eChook.binary[e];t.value!=t.old?(t.changed=1,this.changeCount++):t.changed=0}for(var n in this.eChook){var a=this.eChook[n];if({}.hasOwnProperty.call(this.eChook[n],"calibration"))for(var l in a.calibration){var i=a.calibration[l];i.value!=i.old?(i.changed=1,this.changeCount++):i.changed=0}else"bluetoothName"===n&&(this.eChook[n].value!=this.eChook[n].old?(this.eChook[n].changed=1,this.changeCount++):this.eChook[n].changed=0)}},connect:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.connected=!1,t.next=3,navigator.serial.requestPort();case 3:return e.port=t.sent,t.prev=4,t.next=7,e.port.open({baudRate:115200});case 7:t.next=15;break;case 9:t.prev=9,t.t0=t["catch"](4),console.log("*** open port error ***"),console.log(t.t0),window.alert("Failed to open Serial Port\n\n".concat(t.t0))||window.location.reload(),e.connectFailed=!0;case 15:e.connectFailed||(e.inputBuffer=new Uint8Array(0),e.connected=!0,console.log("Open"),e.reader=e.port.readable.getReader(),e.closed=e.readLoop());case 16:case"end":return t.stop()}}),t,null,[[4,9]])})))()},disconnectPort:function(){return Object(ne["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)})))()},readLoop:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a,l,i,r,o,c,u,s,d,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("Entering ReadLoop");case 1:if(!e.running){t.next=12;break}return t.next=4,e.reader.read();case 4:n=t.sent,a=n.value,n.done,e.inputBuffer=e.concatenate(e.inputBuffer,a),l=1;while(l){if(l=0,e.inputBuffer.length>4)for(i=e.inputBuffer.length-1;i>=0;i--)"}"===String.fromCharCode(e.inputBuffer[i])&&"{"===String.fromCharCode(e.inputBuffer[i-4])&&(r=e.inputBuffer[i-3],o=e.inputBuffer[i-2],c=e.inputBuffer[i-1],e.eChookDataDecode(r,o,c),l=1,e.inputBuffer=e.concatenate(e.inputBuffer.slice(0,i-4),e.inputBuffer.slice(i+1,e.inputBuffer.length)),i=-1),"]"===String.fromCharCode(e.inputBuffer[i])&&(e.inputBuffer.length>e.serialCalibration.floatCalArrayLength&&"["===String.fromCharCode(e.inputBuffer[i-e.serialCalibration.floatCalArrayLength+1])&&String.fromCharCode(e.inputBuffer[i-e.serialCalibration.floatCalArrayLength+2])===e.serialCalibration.floatCalIdentifier&&(u=new Uint8Array,u=e.inputBuffer.slice(i-e.serialCalibration.floatCalArrayLength+3,i),e.eChookFloatCalDecode(u),l=1,e.inputBuffer=e.concatenate(e.inputBuffer.slice(0,i-e.serialCalibration.floatCalArrayLength),e.inputBuffer.slice(i,e.inputBuffer.length)),i=-1),e.inputBuffer.length>e.serialCalibration.binaryCalArrayLength&&"["===String.fromCharCode(e.inputBuffer[i-e.serialCalibration.binaryCalArrayLength+1])&&String.fromCharCode(e.inputBuffer[i-e.serialCalibration.binaryCalArrayLength+2])===e.serialCalibration.binaryCalIdentifier&&(s=new Uint8Array,s=e.inputBuffer.slice(i-e.serialCalibration.binaryCalArrayLength+3,i),console.log("Binary Array Length: ".concat(s.length)),console.log("Binary Array Identified as: ".concat(s)),e.eChookBinaryCalDecode(s),l=1,e.inputBuffer=e.concatenate(e.inputBuffer.slice(0,i-e.serialCalibration.binaryCalArrayLength),e.inputBuffer.slice(i,e.inputBuffer.length)),i=-1),e.inputBuffer.length>e.serialCalibration.btNameArrayLength&&"["===String.fromCharCode(e.inputBuffer[i-e.serialCalibration.btNameArrayLength+1])&&String.fromCharCode(e.inputBuffer[i-e.serialCalibration.btNameArrayLength+2])===e.serialCalibration.btNameIdentifier&&(d=new Uint8Array,d=e.inputBuffer.slice(i-e.serialCalibration.btNameArrayLength+3,i),e.eChookNameCalDecode(d),l=1,e.inputBuffer=e.concatenate(e.inputBuffer.slice(0,i-e.serialCalibration.btNameArrayLength),e.inputBuffer.slice(i,e.inputBuffer.length)),i=-1));if(0===l&&(0,e.inputBuffer.length>4))for(h=e.inputBuffer.length-4;h>=0;h--)"["===String.fromCharCode(e.inputBuffer[h])&&1}t.next=1;break;case 12:case"end":return t.stop()}}),t)})))()},concatenate:function(){for(var e=0,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var l=0,i=n;l<i.length;l++){var r=i[l];e+=r.length}for(var o=new Uint8Array(e),c=0,u=0,s=n;u<s.length;u++){var d=s[u];o.set(d,c),c+=d.length}return o},eChookDataDecode:function(e,t,n){this.waitingForData&&(this.waitingForData=0,this.serialRequestFloatCal(),this.serialRequestBinaryCal(),this.serialRequestBTName());var a=0;if(e=String.fromCharCode(e),t>128){var l=100*(t-128),i=n;a=l+i}else{var r=0;r=t;var o=0;o=Number(n)/100,a=Number(Number(r)+Number(o))}for(var c in this.eChook)this.eChook[c].identifier===e&&(this.eChook[c].value=a.toFixed(this.eChook[c].precision))},eChookFloatCalDecode:function(e){for(var t=new DataView(e.buffer),n=0;n<this.serialCalibration.floatCalArrayLength-5;n+=4){var a=t.getFloat32(n,1),l=n/4;for(var i in this.eChook){var r=this.eChook[i];if({}.hasOwnProperty.call(this.eChook[i],"calibration"))for(var o in r.calibration){var c=r.calibration[o];c.floatIndex===l&&(c.value=a.toFixed(c.precision),c.old=c.value)}}}this.checkChange()},eChookBinaryCalDecode:function(e){var t=e[0];e[1],e[2],e[3];this.eChook.binary.variableThrottle.value=64&t?1:0,this.eChook.binary.variableThrottle.old=64&t?1:0,this.eChook.binary.linearTempSensor.value=32&t?1:0,this.eChook.binary.linearTempSensor.old=32&t?1:0,this.eChook.binary.throttleOut.value=16&t?1:0,this.eChook.binary.throttleOut.old=16&t?1:0,this.eChook.binary.throttleRamp.value=8&t?1:0,this.eChook.binary.throttleRamp.old=8&t?1:0,this.checkChange()},eChookNameCalDecode:function(e){var t="";console.log("Name Array Length: ".concat(e.length));for(var n=0;n<this.serialCalibration.btNameArrayLength-3;n++)e[n]&&255!=e[n]&&(console.log("Cal array ".concat(n,": ").concat(e[n])),t+=String.fromCharCode(e[n]));this.eChook.bluetoothName.value=t,this.eChook.bluetoothName.old=t,this.checkChange()},serialWrite:function(e){try{this.writer=this.port.writable.getWriter()}catch(t){console.log("Failed to open Write Stream")}this.writer.write(e),this.writer.releaseLock()},serialRequestAllCal:function(){this.serialRequestFloatCal(),this.serialRequestBinaryCal(),this.serialRequestBTName()},serialRequestBTName:function(){var e=new Uint8Array(2),t="gn";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},serialRequestSWVersion:function(){var e=new Uint8Array(2),t="gs";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},serialRequestBinaryCal:function(){var e=new Uint8Array(2),t="gb";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},serialRequestFloatCal:function(){var e=new Uint8Array(2),t="gf";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},serialToggleData:function(){var e=new Uint8Array(2),t="gd";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},serialSendAllCal:function(){this.serialSendBtName(),this.serialSendFloatData()},serialSendBtName:function(){if(null!=this.eChook.bluetoothName.value&&this.eChook.bluetoothName.value.length<=30){var e=new Uint8Array(32);e.fill(255);var t="sn";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1);for(var n=0;n<this.eChook.bluetoothName.value.length;n++)e[n+2]=this.eChook.bluetoothName.value.charCodeAt(n),console.log("Adding ".concat(this.eChook.bluetoothName.value.charCodeAt(n)," to data at ").concat(n+2));console.log("Sending: ".concat(e)),this.serialWrite(e)}},serialSendFloatData:function(){var e=new Float32Array(20),t=new DataView(e.buffer);for(var n in this.eChook){var a=this.eChook[n];if({}.hasOwnProperty.call(this.eChook[n],"calibration"))for(var l in a.calibration){var i=a.calibration[l];null!=i.floatIndex&&(console.log(""),t.setFloat32(4*i.floatIndex,i.value,!0))}}var r=new Uint8Array(2),o="sf";r[0]=o.charCodeAt(0),r[1]=o.charCodeAt(1);var c=new Uint8Array(t.buffer);this.serialWrite(r),this.serialWrite(c)},serialSendBinaryData:function(){var e=new Uint8Array(6);e.fill(0),this.eChook.binary.useHardcoded.value&&(e[2]=128|e[2]),this.eChook.binary.variableThrottle.value&&(e[2]=64|e[2]),this.eChook.binary.linearTempSensor.value&&(e[2]=32|e[2]),this.eChook.binary.throttleOut.value&&(e[2]=16|e[2]),this.eChook.binary.throttleRamp.value&&(e[2]=8|e[2]);var t="sb";e[0]=t.charCodeAt(0),e[1]=t.charCodeAt(1),this.serialWrite(e)},backupDownload:function(){var e=JSON.stringify(this.eChook),t="eChook Cal - ".concat(this.eChook.bluetoothName.value," - ").concat(this.getDmyString(new Date),".ecb"),n=new Blob([e],{type:"text/json;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,t);else{var a=document.createElement("a");if(void 0!==a.download){var l=URL.createObjectURL(n);a.setAttribute("href",l),a.setAttribute("download",t),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},backupRestore:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("Entering Restore"),n=Object(te["a"])(document.querySelector("input[type=file]").files,1),a=n[0],l=new FileReader,l.addEventListener("load",(function(){var t=JSON.parse(l.result);for(var n in e.eChook)if(Object.hasOwn(t,n))if("binary"===n)for(var a in e.eChook[n])Object.hasOwn(t[n],a)&&(e.eChook[n][a].value=t[n][a].value?1:0);else if("bluetoothName"===n)Object.hasOwn(t[n],"value")&&(e.eChook[n].value=t[n].value);else if(Object.hasOwn(t[n],"calibration"))for(var i in e.eChook[n].calibration)Object.hasOwn(t[n].calibration,i)&&(e.eChook[n].calibration[i].value=t[n].calibration[i].value);document.getElementById("fileButton").value=null,e.checkChange()})),a&&l.readAsText(a);case 5:case"end":return t.stop()}}),t)})))()},getDmyString:function(e){var t=new Date;t.setTime(e);var n=t.getDate()<10?"0"+t.getDate():t.getDate(),a=t.getMonth()+1<10?"0"+(Number(t.getMonth())+1):t.getMonth()+1;return"".concat(n,"-").concat(a,"-").concat(t.getFullYear())}}};n("52af");const ie=b()(le,[["render",ee]]);var re=ie,oe=Object(a["h"])({name:"App",components:{Header:v,Connect:re}});n("ee0c");const ce=b()(oe,[["render",l]]);var ue=ce;Object(a["b"])(ue).mount("#app")},ee0c:function(e,t,n){"use strict";n("7b49")}});
//# sourceMappingURL=app.4146ef9d.js.map